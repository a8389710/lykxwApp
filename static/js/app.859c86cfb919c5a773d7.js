webpackJsonp([1],{"/5GP":function(t,e){},"4ml/":function(t,e){},"6tVh":function(t,e){},"8TZI":function(t,e){},H9dK:function(t,e){},Ig1l:function(t,e){},Keqg:function(t,e){},MoLD:function(t,e){t.exports={_from:"hydrogen-js-sdk",_id:"hydrogen-js-sdk@1.6.7",_inBundle:!1,_integrity:"sha1-9hkgz5XOeks+yHr7EemvInksBo0=",_location:"/hydrogen-js-sdk",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"hydrogen-js-sdk",name:"hydrogen-js-sdk",escapedName:"hydrogen-js-sdk",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"http://registry.npm.taobao.org/hydrogen-js-sdk/download/hydrogen-js-sdk-1.6.7.tgz",_shasum:"f61920cf95ce7a4b3ec87afb11e9af22792c068d",_spec:"hydrogen-js-sdk",_where:"E:\\webdirwork\\lykWYapp\\WYApp",author:{name:"Bmob"},bugs:{url:"https://github.com/bmob/hydrogen-js-sdk/issues"},bundleDependencies:!1,dependencies:{"node.extend":"^2.0.0",webpack:"^3.12.0"},deprecated:!1,description:"Bmob SDK",devDependencies:{"clean-webpack-plugin":"^0.1.19",eslint:"^4.19.1","eslint-config-standard":"^11.0.0","eslint-friendly-formatter":"^4.0.1","eslint-loader":"^2.0.0","eslint-plugin-import":"^2.12.0","eslint-plugin-node":"^6.0.1","eslint-plugin-promise":"^3.7.0","eslint-plugin-standard":"^3.1.0","html-webpack-plugin":"^2.30.1","uglifyjs-webpack-plugin":"^1.2.5","webpack-dev-server":"^2.11.2"},directories:{doc:"docs"},homepage:"https://github.com/bmob/hydrogen-js-sdk#readme",keywords:["Bmob"],license:"ISC",main:"./src/lib/app.js",name:"hydrogen-js-sdk",repository:{type:"git",url:"git+https://github.com/bmob/hydrogen-js-sdk.git"},scripts:{build:"webpack --config config/prod.env.js",dev:"webpack-dev-server --config config/dev.env.js",test:'echo "Error: no test specified" && exit 1',watch:"webpack --watch --config config/prod.env.js"},version:"1.6.7"}},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("Fd2+"),n={data:function(){return{tabberlist:[{title:"新闻",icon:"orders-o"},{title:"段子",icon:"service-o"},{title:"收藏",icon:"play-circle-o"},{title:"我的",icon:"user-circle-o"}],active:0}},methods:{changetab:function(t,e){switch(t){case"新闻":this.$router.push({path:"/home"});break;case"段子":this.$router.push({path:"/duanzi"});break;case"收藏":this.$router.push({path:"/mylike"});break;case"我的":this.$router.push({path:"/mine"})}}},computed:{listenpath:function(){return this.$store.state.active}},watch:{listenpath:function(t){console.log(t),this.active=t}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabber-wrap"},[a("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabberlist,function(e){return a("van-tabbar-item",{key:e.id,attrs:{icon:e.icon},on:{click:function(a){t.changetab(e.title)}}},[t._v(t._s(e.title))])}),1)],1)},staticRenderFns:[]};var r={name:"App",components:{Tabber:a("VU/8")(n,o,!1,function(t){a("swp6")},"data-v-71f8c485",null).exports},methods:{changeactive:function(t){this.$store.commit("changeactive",t)}},created:function(){this.$router.push({path:"/home"})},watch:{$route:function(t,e){console.log(t.path),this.changeactive(t.path)}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("Tabber")],1)},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("6tVh")},null,null).exports,u=a("/ocq"),d=a("mvHQ"),h=a.n(d),g=a("Gu7T"),p=a.n(g),m={data:function(){return{city:"",chosedcity:"",weather:"",temperature:"",isopen:!1,citylist:["成都市","上海市","北京市","眉山市"]}},created:function(){this.wmapinit()},methods:{openbox:function(){this.isopen=!0,this.chosedcity=this.city},closebox:function(){this.isopen=!1},chosecity:function(t){this.chosedcity=t},sure:function(){this.isopen=!1,this.city=this.chosedcity,this.getweather()},wmapinit:function(){var t=this;if(null==localStorage.getItem("locmsg"))setTimeout(function(){t.getcity()},2e3),setTimeout(function(){t.getweather(),setTimeout(function(){var e={city:t.city,weatherdes:{weather:t.weather,temperature:t.temperature}};localStorage.setItem("locmsg",h()(e))},1e3)},2300);else{var e=JSON.parse(localStorage.getItem("locmsg"));this.city=e.city,this.weather=e.weatherdes.weather,this.temperature=e.weatherdes.temperature}},getcity:function(){var t=this;(new AMap.CitySearch).getLocalCity(function(e,a){"complete"==e&&"OK"==a.info&&(t.city=a.city)})},getweather:function(){var t=this,e=new AMap.Weather,a=this.city;e.getLive(a,function(e,a){console.log(e,a),t.weather=a.weather,t.temperature=a.temperature})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amap-page-container"},[t.city?a("div",{staticClass:"show",on:{click:t.openbox}},[a("span",{staticClass:"city"},[t._v(t._s(t.city))]),t._v(" "),a("span",{staticClass:"weather"},[t._v(t._s(t.weather)+" "+t._s(t.temperature)+"°c")])]):a("span",{staticClass:"dingwei"},[t._v("定位中..")]),t._v(" "),t.isopen?a("div",{staticClass:"noshow"},[a("button",{staticClass:"close",on:{click:t.closebox}},[t._v("X")]),t._v(" "),a("p",[t._v("选择城市"),a("span",{staticClass:"city"},[t._v(t._s(t.chosedcity))])]),t._v(" "),a("ul",t._l(t.citylist,function(e){return a("li",{key:e.id,on:{click:function(a){t.chosecity(e)}}},[a("span",{staticClass:"city"},[t._v(t._s(e))])])}),0),t._v(" "),a("button",{staticClass:"sure",on:{click:t.sure}},[t._v("确定")])]):t._e()])},staticRenderFns:[]};var f=a("VU/8")(m,v,!1,function(t){a("8TZI")},"data-v-1dbe8871",null).exports,_=a("162o"),w={name:"home",path:"/home",components:{Map:f},data:function(){return{alldata:[],value:"",active:0,datalength:1,newsdata:[],videodata:[],showtitle:"",type:"dy",isok:!1,Toast:"",nowtitle:"",tablist:[{title:"关注",type:"dy"},{title:"头条",type:"toutiao"},{title:"视频",type:"video"},{title:"娱乐",type:"ent"},{title:"体育",type:"sports"}]}},methods:{setcity:function(){this.$store.state.mapshow=!0},onSearch:function(){var t=this;console.log(this.nowtitle);var e=[];0==this.value.length?(this.newsdata=this.alldata,this.videodata=this.alldata,this.datalength=this.alldata.length):"视频"==this.nowtitle?(this.videodata.forEach(function(a){var s=a.data.content.data.author.description,i=a.data.content.data.description,n=a.data.content.data.category;-1==s.indexOf(t.value)&&-1==i.indexOf(t.value)&&-1==n.indexOf(t.value)||e.push(a)}),this.videodata=e,this.datalength=this.videodata.length):"视频"!=this.nowtitle&&(this.alldata.forEach(function(a){var s=a.title,i=a.source;-1==s.indexOf(t.value)&&-1==i.indexOf(t.value)||e.push(a)}),this.newsdata=e,this.datalength=this.newsdata.length)},getbackdata:function(){this.value="",this.datalength=1,"视频"==this.nowtitle?this.getvideo():this.getdata(this.nowtype)},getdata:function(t){var e=this;this.Toast=this.$toast({type:"loading",duration:0,message:"加载中...",loadingType:"spinner"}),this.newsdata=[],this.axios.get("https://www.apiopen.top/journalismApi").then(function(a){if(e.isok=!0,"ent"==t){var s=a.data.data[t];s.splice(3,1),e.newsdata=s,e.alldata=[].concat(p()(e.newsdata))}else e.newsdata=a.data.data[t],e.alldata=[].concat(p()(e.newsdata))}).catch(function(t){console.log(t)})},getvideo:function(){var t=this;Object(_.setTimeout)(function(){t.axios.get("https://api.apiopen.top/todayVideo").then(function(e){t.isok=!0;var a=[];a=(a=e.data.result).filter(function(t){return"followCard"==t.type}),t.videodata=a,t.alldata=[].concat(p()(t.videodata))})},500)},changedata:function(t,e){var a="";if(e!=this.nowtitle)switch(this.datalength=1,this.$toast({type:"loading",duration:0,message:"加载中...",loadingType:"spinner"}),e){case"关注":this.showtitle="",a="dy",this.getdata(a),this.nowtitle=e,this.nowtype=a;break;case"头条":this.showtitle="",a="toutiao",this.getdata(a),this.nowtype=a,this.nowtitle=e;break;case"视频":this.showtitle="video",a="",this.getvideo(),this.nowtype=a,this.nowtitle=e;break;case"娱乐":this.showtitle="",a="ent",this.getdata(a),this.nowtype=a,this.nowtitle=e;break;case"体育":this.showtitle="",a="sports",this.getdata(a),this.nowtype=a,this.nowtitle=e}},getlikedata:function(){var t=(null==localStorage.getItem("userLikexinwen")||""==JSON.parse(localStorage.getItem("userLikexinwen"))?0:JSON.parse(localStorage.getItem("userLikexinwen")).length)+(null==localStorage.getItem("userLikeduanzi")||""==JSON.parse(localStorage.getItem("userLikeduanzi"))?0:JSON.parse(localStorage.getItem("userLikeduanzi")).length);this.$store.commit("getlikenum",t)},userLike:function(t){if(this.$store.state.islog){var e=[],a=this.newsdata[t];if(null==localStorage.getItem("userLikexinwen")||JSON.parse(""==localStorage.getItem("userLikexinwen")))e.push(a),this.$toast({message:"收藏成功！",duration:1e3}),localStorage.setItem("userLikexinwen",h()(e)),this.$store.commit("addlikedata");else{var s=!1;(e=JSON.parse(localStorage.getItem("userLikexinwen"))).forEach(function(t){t.title!=a.title||(s=!0)}),s?this.$toast({message:"您已收藏该讯息！",duration:1e3}):(e.push(a),this.$toast({message:"收藏成功！",duration:1e3}),localStorage.setItem("userLikexinwen",h()(e)),this.$store.commit("addlikedata"))}}else{confirm("请您先登录，是否登录？")&&this.$router.push({path:"/mine"})}}},created:function(){this.getdata(this.type),this.changedata(1,"关注"),this.getlikedata()},watch:{isok:function(){this.Toast.clear(),this.isok=!1}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-page"},[a("header",[a("div",{staticClass:"app-icon",on:{click:t.getbackdata}},[t._v("坤")]),t._v(" "),a("div",{staticClass:"chajian",on:{click:t.setcity}},[a("Map",{staticClass:"mapbox"})],1),t._v(" "),a("van-search",{staticClass:"search-wrap",attrs:{placeholder:"请输入搜索关键词","show-action":"",background:"none"},on:{search:t.onSearch},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("div",{staticStyle:{color:"#fff"},attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[t._v("搜索")])])],1),t._v(" "),a("div",{staticClass:"vanbox"},[a("van-tabs",{staticClass:"tabs-list",attrs:{sticky:""},on:{click:t.changedata},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tablist,function(e){return a("van-tab",{key:e.title,attrs:{title:e.title}},[0==t.datalength?a("div",[a("p",[t._v("\n          暂时没有您搜索的数据!\n          ")])]):t._e(),t._v(" "),"video"!=t.showtitle?a("ul",t._l(t.newsdata,function(e,s){return a("li",{key:e.id,staticClass:"data-list"},[a("button",{staticClass:"like-btn",on:{click:function(e){t.userLike(s)}}},[t._v("收藏")]),t._v(" "),e.picInfo?a("div",{staticClass:"hasimg-wrap"},[a("p",{staticClass:"data-username"},[t._v(t._s(e.source))]),t._v(" "),a("p",{staticClass:"data-title"},[t._v(t._s(e.title))]),t._v(" "),a("p",[t._v(t._s(e.ptime))]),t._v(" "),a("div",{staticClass:"img-wrap"},t._l(e.picInfo,function(t){return a("img",{key:t.id,attrs:{src:t.url,alt:""}})}),0)]):t._e()])}),0):"video"==t.showtitle?a("ul",{staticClass:"video-list"},t._l(t.videodata,function(e,s){return a("li",{key:s},[a("p",{staticClass:"video-type"},[t._v(t._s(e.data.content.data.category))]),t._v(" "),a("p",{staticClass:"video-author"},[t._v(t._s(e.data.content.data.author.description))]),t._v(" "),a("video",{attrs:{src:e.data.content.data.playUrl,controls:""}}),t._v(" "),a("p",{staticClass:"video-des"},[t._v(t._s(e.data.content.data.description))])])}),0):t._e()])}),1)],1)])},staticRenderFns:[]};var y=a("VU/8")(w,k,!1,function(t){a("Keqg")},"data-v-02f01446",null).exports,b={name:"talking",data:function(){return{active:0,showlist:[{title:"新闻",type:"xinwen"},{title:"段子",type:"duanzi"}],isok:!1,type:"",islog:!1,duanzidata:[],xinwendata:[]}},methods:{gotolog:function(){this.$router.push({path:"/mine"}),this.$store.commit("changeactive")},getduanzidata:function(){null==localStorage.getItem("userLikeduanzi")||""==JSON.parse(localStorage.getItem("userLikeduanzi"))?this.duanzidata=[]:this.duanzidata=JSON.parse(localStorage.getItem("userLikeduanzi"))},getxinwendata:function(){null==localStorage.getItem("userLikexinwen")||""==JSON.parse(localStorage.getItem("userLikexinwen"))?this.xinwendata=[]:this.xinwendata=JSON.parse(localStorage.getItem("userLikexinwen"))},changeList:function(t,e){console.log(e),"新闻"==e?this.type="xinwen":(e="段子")&&(this.type="duanzi")},deletelike:function(t){if(confirm("确定删除收藏吗？")){if("duanzi"==this.type){var e=JSON.parse(localStorage.getItem("userLikeduanzi"));e.splice(t,1),this.duanzidata=e,localStorage.setItem("userLikeduanzi",h()(e))}else if("xinwen"==this.type){var a=JSON.parse(localStorage.getItem("userLikexinwen"));console.log(a[t]),a.splice(t,1),this.xinwendata=a,localStorage.setItem("userLikexinwen",h()(a))}this.$store.commit("dellikedata")}}},created:function(){this.$toast.clear(),this.islog=this.$store.state.islog,this.type="xinwen",this.getduanzidata(),this.getxinwendata()}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"talking-page"},[t.islog?a("div",[a("van-tabs",{staticClass:"tabs-list",attrs:{sticky:""},on:{click:t.changeList},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.showlist,function(e){return a("van-tab",{key:e.title,attrs:{title:e.title}},["xinwen"==t.type?a("section",{staticClass:"xinwen-wrap"},[0==t.xinwendata.length?a("div",{staticClass:"nodata-wrap"},[a("p",[t._v("暂时没有收藏的内容！")])]):a("ul",t._l(t.xinwendata,function(e,s){return a("li",{key:e.id,staticClass:"data-list"},[a("button",{staticClass:"unlike-btn",on:{click:function(e){t.deletelike(s)}}},[t._v("删除")]),t._v(" "),e.picInfo?a("div",{staticClass:"hasimg-wrap"},[a("p",{staticClass:"data-username"},[t._v(t._s(e.source))]),t._v(" "),a("p",{staticClass:"data-title"},[t._v(t._s(e.title))]),t._v(" "),a("p",[t._v(t._s(e.ptime))]),t._v(" "),a("div",{staticClass:"img-wrap"},t._l(e.picInfo,function(t){return a("img",{key:t.id,attrs:{src:t.url,alt:""}})}),0)]):t._e()])}),0)]):a("section",{staticClass:"duanzi-wrap"},[0==t.duanzidata.length?a("div",{staticClass:"nodata-wrap"},[a("p",[t._v("暂时没有收藏的内容！")])]):a("ul",t._l(t.duanzidata,function(e,s){return a("li",{key:e.id},[a("div",{staticClass:"user-msg-box"},[a("img",{staticClass:"header",attrs:{src:e.header,alt:"NOheader"}}),t._v(" "),a("p",{staticClass:"user-name"},[t._v(t._s(e.username))]),t._v(" "),a("button",{on:{click:function(e){t.deletelike(s)}}},[t._v("删除")])]),t._v(" "),a("div",{staticClass:"msg-wrap"},[a("p",{staticClass:"msg-des"},[t._v(t._s(e.text))]),t._v(" "),a("div",{staticClass:"img-box"},[a("img",{attrs:{src:e.image,alt:"加载失败"}})])]),t._v(" "),a("div",{staticClass:"user-good-box"},[a("p",[a("span",[t._v("赞")]),t._v(" "),a("span",[t._v("评论...")]),t._v(" "),a("span",[t._v("分享")])])])])}),0)])])}),1)],1):a("div",{staticClass:"nologing-wrap"},[a("p",[t._v("请您先登录")]),t._v(" "),a("button",{on:{click:t.gotolog}},[t._v("点击登录")])])])},staticRenderFns:[]};var x=a("VU/8")(b,C,!1,function(t){a("/5GP")},"data-v-1eae6568",null).exports,$={name:"talking",data:function(){return{showlist:[{title:"推荐",type:"tuijian"},{title:"关注",type:"guanzhu"}],duanzidata:[],Toast:"",isok:!1,type:""}},methods:{gettalkingdata:function(){var t=this;this.Toast=this.$toast({type:"loading",duration:0,message:"加载中...",loadingType:"spinner"}),this.axios.get("https://www.apiopen.top/satinGodApi?type=1&page=1").then(function(e){t.isok=!0;var a=e.data.data.filter(function(t){return"image"==t.type});t.duanzidata=a}).catch(function(t){console.log(t)})},changeList:function(t){this.type=t},userLike:function(t){if(this.$store.state.islog){var e=[],a=this.duanzidata[t];if(null==localStorage.getItem("userLikeduanzi")||JSON.parse(""==localStorage.getItem("userLikeduanzi")))e.push(a),this.$toast({message:"收藏成功！",duration:1e3}),localStorage.setItem("userLikeduanzi",h()(e)),this.$store.commit("addlikedata");else{var s=!1,i=JSON.parse(localStorage.getItem("userLikeduanzi"));e=i,console.log(i.indexOf(a)),e.forEach(function(t){t.uid!=a.uid||(s=!0)}),s?this.$toast({message:"您已收藏该讯息！",duration:1e3}):(e.push(a),this.$toast({message:"收藏成功！",duration:1e3}),localStorage.setItem("userLikeduanzi",h()(e)),this.$store.commit("addlikedata"))}}else{confirm("请您先登录，是否登录？")&&this.$router.push({path:"/mine"})}}},created:function(){this.type="tuijian",this.gettalkingdata()},watch:{isok:function(){this.Toast.clear(),this.isok=!1}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"talking-page"},[a("header",[a("div",{staticClass:"type-wrap"},t._l(t.showlist,function(e){return a("p",{key:e.id,class:{Pchecked:e.type==t.type},on:{click:function(a){t.changeList(e.type)}}},[a("span",[t._v(t._s(e.title))])])}),0)]),t._v(" "),"tuijian"==t.type?a("section",{staticClass:"tuijian-wrap"},[a("ul",t._l(t.duanzidata,function(e,s){return a("li",{key:e.id},[a("div",{staticClass:"user-msg-box"},[a("img",{staticClass:"header",attrs:{src:e.header,alt:"NOheader"}}),t._v(" "),a("p",{staticClass:"user-name"},[t._v(t._s(e.username))]),t._v(" "),a("button",{on:{click:function(e){t.userLike(s)}}},[t._v("收藏")])]),t._v(" "),a("div",{staticClass:"msg-wrap"},[a("p",{staticClass:"msg-des"},[t._v(t._s(e.text))]),t._v(" "),a("div",{staticClass:"img-box"},[a("img",{attrs:{src:e.image,alt:"加载失败"}})])]),t._v(" "),t._m(0,!0)])}),0)]):a("section",{staticClass:"guanzhu-wrap"},[t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-good-box"},[e("p",[e("span",[this._v("赞")]),this._v(" "),e("span",[this._v("评论...")]),this._v(" "),e("span",[this._v("分享")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"guanzhu-men-wrap"},[e("p",[this._v("您暂时没有关注的对象")])])}]};var z=a("VU/8")($,S,!1,function(t){a("Ig1l")},"data-v-7c5f9c7e",null).exports,I={name:"mine",path:"/mine",data:function(){return{userList:[{title:"修改昵称",des:"设置昵称"},{title:"修改密码",des:"修改密码"},{title:"修改签名",des:"设置签名"}],userTel:"",usernicheng:"无",userqianming:"无",likedatalength:0}},methods:{islog:function(){var t=this.$store.state.islog;t||this.$router.push({path:"/Logres"})},getuserMsg:function(){if(this.userTel=this.$store.state.userTel,null!=localStorage.getItem("bmob")&&""!=JSON.parse(localStorage.getItem("bmob"))){var t=JSON.parse(localStorage.getItem("bmob"));this.usernicheng=t.nicheng,this.userqianming=t.qianming}},logindown:function(){confirm("您确定要注销用户吗？")&&(this.$store.commit("changelog",!1),this.$store.state.userTel="",this.$router.push({path:"/Logres"}),localStorage.setItem("bmob",h()("")))},changeusermsg:function(t){this.$router.push({path:"/usermsgchange"}),this.$store.commit("changeusermsg",t)}},created:function(){this.likedatalength=this.$store.state.likenum,this.$toast.clear(),this.islog(),this.getuserMsg()}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("div",{staticClass:"night-day-changebtn"}),t._v(" "),a("div",{staticClass:"user-msg-wrap"},[a("div",{staticClass:"user-img-name-wrap"},[a("img",{staticClass:"user-img",attrs:{src:"http://img0.imgtn.bdimg.com/it/u=2925539898,761859990&fm=26&gp=0.jpg",alt:""}}),t._v(" "),a("p",{staticClass:"user-name"},[t._v(t._s(t.userTel))]),t._v(" "),a("span",{staticClass:"user-chengwei"},[a("span",[t._v("昵称：")]),t._v(" "+t._s(t.usernicheng))]),t._v(" "),a("span",{staticClass:"user-qianming"},[a("span",[t._v("签名：")]),t._v(" "+t._s(t.userqianming))])]),t._v(" "),a("div",{staticClass:"user-working-wrap"},[a("p",{staticClass:"p-num"},[a("span",[t._v("0")]),t._v(" "),a("span",[t._v(t._s(t.likedatalength))]),t._v(" "),a("span",[t._v("0")])]),t._v(" "),t._m(0)])])]),t._v(" "),a("hr"),t._v(" "),a("section",{attrs:{id:"section"}},t._l(t.userList,function(e){return a("van-cell",{key:e.id,staticClass:"uesrlist-msg",attrs:{title:e.title,"is-link":"",value:e.des},on:{click:function(a){t.changeusermsg(e.title)}}})}),1),t._v(" "),a("button",{staticClass:"btn logdown",on:{click:t.logindown}},[t._v("注销")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"p-des"},[e("span",[this._v("跟帖")]),this._v(" "),e("span",[this._v("收藏")]),this._v(" "),e("span",[this._v("历史")])])}]};var L=a("VU/8")(I,T,!1,function(t){a("YfqO")},null,null).exports,O={data:function(){return{userTel:"",userYzm:"",loging:!0,getingyzm:!1}},methods:{logrescheck:function(){this.loging=!this.loging,this.userTel="",this.userYzm=""},login:function(){var t=this;11!=this.userTel.length||0==this.userYzm.length?this.$toast({message:"请输入正确格式信息！",duration:1e3}):Bmob.User.login(this.userTel,this.userYzm).then(function(e){t.$store.state.userTel=t.userTel,t.$store.commit("changelog",!0),t.$toast({message:"登录成功! 正在跳转..."}),setTimeout(function(){t.$router.push({path:"/mine"})},1e3)}).catch(function(e){console.log(e),101==e.code&&t.$toast({message:"用户未注册/手机号码或密码错误，请输入正确信息!",duration:1e3})})},register:function(){var t=this;if(11!=this.userTel.length||0==this.userYzm.length)this.$toast({message:"请输入正确格式信息！",duration:1e3});else{var e={username:this.userTel,password:this.userYzm,nicheng:"无",qianming:"这个人很懒，什么都没留下"};Bmob.User.register(e).then(function(e){console.log(e),t.$store.state.userTel=t.userTel,t.$store.commit("changelog",!0),t.$toast({message:"注册成功！ 正在登录...",duration:1e3}),setTimeout(function(){t.login()},1e3)}).catch(function(t){console.log(t),202==t.code&&alert("当前用户已经注册！")})}},getyama:function(){var t=this;if(0==this.userTel.length)this.$toast({message:"请输入正确的手机号码！",duration:1e3});else{this.getingyzm=!0;var e=Math.random().toString().slice(5,11);this.yzma=e,setTimeout(function(){alert("您的验证码为"+e),t.getingyzm=!1},3e3)}}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-res-page"},[a("div",{staticClass:"login-res-wrap"},[t.loging?a("p",[t._v("用户登录")]):a("p",[t._v("用户注册")])]),t._v(" "),a("div",{staticClass:"input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userTel,expression:"userTel"}],attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号码"},domProps:{value:t.userTel},on:{input:function(e){e.target.composing||(t.userTel=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userYzm,expression:"userYzm"}],attrs:{type:"password",maxlength:"16",placeholder:"请输入密码"},domProps:{value:t.userYzm},on:{input:function(e){e.target.composing||(t.userYzm=e.target.value)}}}),t._v(" "),t.loging?a("button",{staticClass:"gobtn gores-btn",on:{click:t.logrescheck}},[t._v("新用户？点击注册")]):a("button",{staticClass:"gobtn gologin-btn",on:{click:t.logrescheck}},[t._v("返回登录")])]),t._v(" "),a("div",{staticClass:"btn-wrap"},[t.loging?a("button",{staticClass:"btn login-res-btn",on:{click:t.login}},[t._v("登录")]):a("button",{staticClass:"btn login-res-btn",on:{click:t.register}},[t._v("注册")])])])},staticRenderFns:[]};var j=a("VU/8")(O,N,!1,function(t){a("kTfV")},"data-v-1ef0db70",null).exports,E={name:"usermsgchange",data:function(){return{nowchangeis:"",userkeymsg:"",oldpass:"",newpass:""}},methods:{getnowchangeis:function(){this.nowchangeis=this.$store.state.nowchangeis},changedata:function(t){var e=this,a=Bmob.Query("_User");if("修改签名"==this.nowchangeis?t="qianming":"修改昵称"==this.nowchangeis&&(t="nicheng"),0==this.userkeymsg.length)alert("请输入内容");else{var s=JSON.parse(localStorage.getItem("bmob")).objectId;a.get(s).then(function(a){a.set(t,e.userkeymsg),a.save(),console.log(a),e.$toast({message:"修改成功！",duration:1e3}),setTimeout(function(){e.$router.push({path:"/mine"})},1e3)}).catch(function(t){console.log(t)})}},changepass:function(){var t=this,e=JSON.parse(localStorage.getItem("bmob")).objectId,a={oldPassword:this.oldpass,newPassword:this.newpass};0==this.oldpass.length||0==this.newpass.length?alert("请输入正确格式密码！"):Bmob.updateUserPassword(e,a).then(function(e){console.log(e),t.$toast({message:"修改成功！",duration:1e3}),setTimeout(function(){t.$router.push({path:"/mine"})},1e3)}).catch(function(t){console.log(t)})},quxiao:function(){history.go(-1)}},created:function(){this.getnowchangeis()}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"msgchange-wrap"},[a("header",{staticClass:"header"},[a("p",[t._v(t._s(t.nowchangeis))])]),t._v(" "),"修改密码"==t.nowchangeis?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],attrs:{type:"text",placeholder:"请输入旧密码"},domProps:{value:t.oldpass},on:{input:function(e){e.target.composing||(t.oldpass=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],attrs:{type:"password",placeholder:"请输入新密码"},domProps:{value:t.newpass},on:{input:function(e){e.target.composing||(t.newpass=e.target.value)}}})]):"修改签名"==t.nowchangeis?a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userkeymsg,expression:"userkeymsg"}],attrs:{type:"text",placeholder:"输入您新的签名"},domProps:{value:t.userkeymsg},on:{input:function(e){e.target.composing||(t.userkeymsg=e.target.value)}}})]):"修改昵称"==t.nowchangeis?a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userkeymsg,expression:"userkeymsg"}],attrs:{type:"text",maxlength:"10",placeholder:"请输入您新的昵称(最多10个字)"},domProps:{value:t.userkeymsg},on:{input:function(e){e.target.composing||(t.userkeymsg=e.target.value)}}})]):t._e(),t._v(" "),"修改密码"==t.nowchangeis?a("button",{on:{click:t.changepass}},[t._v("修改密码")]):a("button",{on:{click:t.changedata}},[t._v("提交")]),t._v(" "),a("button",{on:{click:t.quxiao}},[t._v("取消")])])},staticRenderFns:[]};var q=a("VU/8")(E,J,!1,function(t){a("H9dK")},"data-v-42cf620a",null).exports;s.default.use(u.a);var U=new u.a({routes:[{path:"/home",name:"home",component:y},{path:"/mylike",name:"mylike",component:x},{path:"/duanzi",name:"duanzi",component:z},{path:"/mine",name:"mine",component:L},{path:"/logres",name:"logres",component:j},{path:"/usermsgchange",name:"usermsgchange",component:q}]}),Y=(a("4ml/"),a("ogWm")),M=a.n(Y),V=a("mtWM"),A=a.n(V),P=a("Rf8U"),B=a.n(P),R=a("NYxO");s.default.use(R.a);var F=new R.a.Store({state:{islog:!1,userTel:"",userLike:"",nowchangeis:"",likenum:0,active:0,showtitle:"",mapshow:!1},mutations:{changelog:function(t,e){t.islog=e},changeusermsg:function(t,e){t.nowchangeis=e},getlikenum:function(t,e){t.likenum=e},addlikedata:function(t){t.likenum++},dellikedata:function(t){t.likenum--},changeactive:function(t,e){switch(e){case"/home":t.active=0;break;case"/duanzi":t.active=1;break;case"/mylike":t.active=2;break;case"/mine":t.active=3}},getshowtitle:function(t,e){t.showtitle=e}}}),W=a("/IwO"),H=a.n(W);s.default.use(i.a),s.default.use(B.a,A.a),s.default.config.productionTip=!1,M.a.initialize("a6be225b99832197d49128b115d86005","463b2e100f7e6549017f1997100933e4"),H.a.initAMapApiLoader({key:"8f4074056c29a6f86046fd9d6cb297d7",plugin:["AMap.Geolocation","AMap.Weather","AMap.CitySearch"]}),s.default.prototype.Bmob=M.a,new s.default({el:"#app",router:U,store:F,components:{App:l},template:"<App/>"})},YfqO:function(t,e){},kTfV:function(t,e){},swp6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.859c86cfb919c5a773d7.js.map